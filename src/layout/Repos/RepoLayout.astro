---
import BaseLayout from "../BaseLayout.astro";
const title = "Repos"
import GetAllRepos from "../../scripts/GetAllRepos";
const repos = await GetAllRepos("silassentinel");
import Card from "../../components/Card/Card.astro"
import { renderEndpoint } from "astro/dist/runtime/server";
---

<BaseLayout pageTitle={title}>
  {
      repos &&
          repos.sort((firstRepo: { update_at: string; },nextRepo: { update_at: string; } )=> {
              return Date.parse(firstRepo.update_at) - Date.parse(nextRepo.update_at);
          } ).map((repo: { id: number; name: unknown; svn_url: string | URL | null | undefined;  }) => (
            <Card id={repo.id} title={repo.name} subtitle="sub test" text="this is text" BtnUrl={repo.svn_url} BtnText="View Repo" />
          ))
  }
</BaseLayout>